### Module 2: Device Interconnects & Peripherals
This module focuses on communication standards and peripherals used in consumer electronics. It includes **serial interfaces** (RS-232, I2C, SPI, USB) and modern interconnect standards (ZIG-BEE, WI-FI, Bluetooth, Thunderbolt, JTAG). Each technology is explained with its purpose, functionality, applications, and working principles.

#### Module 2.1: Serial Communication Interfaces
Serial communication involves transmitting data one bit at a time sequentially over a communication channel. It is widely used for device-to-device communication in electronics. The key serial interfaces discussed here are RS-232, I2C, SPI, and USB.

##### RS-232 (Recommended Standard 232)
One of the oldest, yet popular communication protocol that is used in industries and commercial products is the RS232 Communication Protocol. The term RS232 stands for "Recommended Standard 232" and it is a type of serial communication used for transmission of data normally in medium distances. It was introduced back in the 1960s and has found its way into many applications like computer printers, factory automation devices etc. Today there are many modern communication protocols like the RS485, SPI, I2C, CAN etc..

**RS232C** is the recent version of Standard 25 pin whereas, **RS232D** which is of 22 pins. In new PC’s male D-type which is of 9 pins. RS232 is a standard protocol used for serial communication, it is used for connecting computer and its peripheral devices to allow serial data exchange between them. As it obtains the voltage for the path used for the data exchange between the devices. It is used in serial communication up to 50 feet with the rate of 1.492kbps. As EIA defines, the RS232 is used for connecting **Data Transmission Equipment (DTE) and Data Communication Equipment (DCE)**.

**Universal Asynchronous Data Receiver & Transmitter (UART)** used in connection with RS232 for transferring data between printer and computer. The microcontrollers are not able to handle such kind of voltage levels, connectors are connected between RS232 signals. These connectors are known as the **DB-9 Connector** as a serial port and they are of two type’s **Male connector (DTE) & Female connector (DCE)**.

**Working Of RS232:** 
RS232 works on the two-way communication that exchanges data to one another. There are two devices connected to each other, (DTE) Data Transmission Equipment & (DCE) Data Communication Equipment which has the pins like TXD, RXD, and RTS & CTS. Now, from DTE source, the RTS generates the request to send the data. Then from the other side DCE, the CTS, clears the path for receiving the data. After clearing a path, it will give a signal to RTS of the DTE source to send the signal. Then the bits are transmitted from DTE to DCE. Now again from DCE source, the request can be generated by RTS and CTS of DTE sources clears the path for receiving the data and gives a signal to send the data. This is the whole process through which data transmission takes place.

##### I2C (Inter-Integrated Circuit)
I2C combines the best features of SPI and UARTs. With I2C, you can connect multiple slaves to a single master (like SPI) and you can have multiple masters controlling single, or multiple slaves. This is really useful when you want to have more than one microcontroller logging data to a single memory card or displaying text to a single LCD. 

I2C only uses two wires to transmit data between devices:
1. SDA (Serial Data) – The line for the master and slave to send and receive data.
2. SCL (Serial Clock) – The line that carries the clock signal. I2C is a serial communication protocol, so data is transferred bit by bit along a single wire (the SDA line).


**STEPS OF I2C DATA TRANSMISSION**
1. The master sends the **start condition** to every connected slave by switching the SDA line from a **high voltage level to a low voltage** level **before** switching the **SCL line from high to low**.
2. The master sends each slave the **7 or 10 bit address** of the slave it wants to communicate with, along with the **read/write bit**.
3. Each slave compares the address sent from the master to its own address. If the address matches, the slave returns an **ACK bit** by pulling the **SDA line low for one bit**. If the address from the master does not match the slave’s own address, the slave leaves the **SDA line high**.
4. The master sends or receives the **data frame**.
5. After each data frame has been transferred, the receiving device returns **another ACK bit** to the sender to acknowledge successful receipt of the frame
6. To stop the data transmission, the master sends a **stop condition** to the slave by switching **SCL high before** switching **SDA high**.


**ADVANTAGES AND DISADVANTAGES OF I2C**
There is a lot to I2C that might make it sound complicated compared to other protocols, but there are some good reasons why you may or may not want to use I2C to connect to a particular device: 

**Advantages:**
1. Only uses two wires
2. Supports multiple masters and multiple slaves
3. ACK/NACK bit gives confirmation that each frame is transferred successfully
4. Hardware is less complicated than with UARTs
5. Well known and widely used protocol

**Disadvantages:**
1. Slower data transfer rate than SPI
2. The size of the data frame is limited to 8 bits
3. More complicated hardware needed to implement than SPI
4. Half-duplex communication is used.

##### SPI (Serial Peripheral Interface)
SPI is a common communication protocol used by many different devices. For example, SD card reader modules, RFID card reader modules, and 2.4 GHz wireless transmitter/receivers all use SPI to communicate with microcontrollers. One unique benefit of SPI is the fact that data can be transferred without interruption. Any number of bits can be sent or received in a continuous stream. With I2C and UART, data is sent in packets, limited to a specific number of bits. Start and stop conditions define the beginning and end of each packet, so the data is interrupted during transmission. 

Devices communicating via SPI are in a master-slave relationship. The master is the controlling device (usually a microcontroller), while the slave (usually a sensor, display, or memory chip) takes instruction from the master. The simplest configuration of SPI is a single master, single slave system, but one master can control more than one slave (more on this below)

**SPI PIN**
It consists of a master and slave Pins with the following:
1. MOSI (Master Output/Slave Input) – Line for the master to send data to the slave.
2. MISO (Master Input/Slave Output) – Line for the slave to send data to the master.
3. SCLK (Clock) – Line for the clock signal.
4. SS/CS (Slave Select/Chip Select) – Line for the master to select which slave to send data to.

**STEPS OF SPI DATA TRANSMISSION**
1. The master outputs the clock signal
2. The master switches the SS/CS pin to a low voltage state, which activates the slave
3. The master sends the data one bit at a time to the slave along the MOSI line. The slave reads the bits as they are received
4. If a response is needed, the slave returns data one bit at a time to the master along the MISO line. The master reads the bits as they are received

**ADVANTAGES AND DISADVANTAGES OF SPI**
There are some advantages and disadvantages to using SPI, and if given the choice between different communication protocols, you should know when to use SPI according to the requirements of your project: 

**Advantages:**
1. No start and stop bits, so the data can be streamed continuously without interruption
2. No complicated slave addressing system like I2C
3. Higher data transfer rate than I2C (almost twice as fast)
4. Separate MISO and MOSI lines, so data can be sent and received at the same time.

**Disadvantages:**
1. Uses four wires (I2C and UARTs use two)
2. No acknowledgement that the data has been successfully received (I2C has this)
3. No form of error checking like the parity bit in UART
4. Only allows for a single master

##### Comparison between I2C and SPI Communication Protocols:

| Features                   | I2C Communication Protocol        | SPI Communication Protocol                  |
| -------------------------- | --------------------------------- | ------------------------------------------- |
| Number of wires            | 2 (SDA and SCL)                   | 4 (MOSI, MISO, SCK, and SS)                 |
| Communication type         | Half-duplex                       | Full-duplex                                 |
| Maximum number of devices  | Limited by addressing scheme      | Limited by number of chip select (SS) lines |
| Data transfer Speed        | Slower                            | Faster                                      |
| Error handling             | Improved due to ACK/NACK          | Not as robust                               |
| Cost                       | Cost-efficient due to fewer wires | More expensive due to additional wires      |
| Complexity                 | Simpler due to fewer wires        | More complex due to additional wires        |
| Multi-master configuration | Yes                               | Yes                                         |
| Synchronous communication  | Yes                               | Yes                                         |
| Clock stretching           | Yes                               | No                                          |
| Arbitration                | Yes                               | No                                          |



##### USB (Universal Serial Bus)
USB, or universal serial bus, is a mechanism used to connect peripheral devices to computers. Before the advent of USB technology, a PC typically included one or two serial connections, a parallel port, keyboard and mouse connectors, and in some instances, a joystick port. The USB standard was established in the mid-1990s by a number of American companies, notably IBM, Intel, and Microsoft Corporation, as a more straightforward way to connect computer peripherals.

The port provided a standard method for connecting various devices and offered considerable speed advantages over other alternatives. Initially, USB technology acceptance was sluggish:
1. Computer manufacturers were extremely slow to include the ports on their systems before USB-capable peripherals were available.
2. Peripheral device manufacturers were similarly unwilling to promote USB products before USB ports were ubiquitous on newer computers.
3. When the tech was initially launched, operating systems had relatively modest supporting capabilities.


**Working Of USB**:
The working of a USB can be broken down as follows:
1. **Data transfer in bulk**: This type of transmission is employed by printers or digital scanners for huge quantities of data. It is generally a low-priority transmission and is not time-sensitive. The operation may be delayed if the host machine has many USB devices attached.
   
2. **Small packets for critical device connections**: This feature is used by peripheral systems like keyboards and mice to transmit tiny quantities of data. These transmissions are frequently utilized for occasional but significant requirements. The remote device generates requests and waits for the host to enquire about the precise data it would need. The requests will be reattempted if the first request for transaction fails. Here, the USB would also inform you of any modifications in the device’s status.
   
3. **Control packet transfers for USB management**: This data transmission is used to set up and manage USB devices. The host submits a request to the device, followed by data transmission. Control transfer is also used for status checks. At any one moment, only one control request can be processed.
   
4. **Real-time, uninterrupted data transfer in the isochronous mode**: Isochronous transfer is used for audio, video, and other real-time data. During the transmission, errors may occur, but the transmission will not be paused to resubmit the packets. However, such transfers often include instances in which the fidelity of the data is not crucial, such as the transmission of audio parts in a Voice over Internet Protocol (VoIP) call that the listener may not detect. It is better to exclude these components than to resend data, which might result in audio glitches. 


**Key features of USB:**
Universal serial bus connections (enabled by USB ports and USB cables) support the following: 
1. **Hot swapping**: is one of the major characteristics of the USB. This functionality enables the removal or replacement of a device without requiring a system restart or interruption. The PC has to be rebooted when installing or uninstalling a device from an older port. Electrostatic discharge (ESD), an unintended electrical current capable of inflicting extensive damage to fragile electronic devices, was initially averted by rebooting. With USB, this is not necessary. Hot swapping is fault-ruggedized, meaning it can continue functioning despite hardware failure. 
   
2. **Direct current transfer**: Another aspect of USB is the usage of direct current (DC). Several devices are connected to a DC current through a USB power connection but do not communicate data. Notable examples include USB speakers, small refrigerators, keyboard lamps, and even USB-based device chargers.
   
3. **The use of multiple contact points**: All USB connections feature at least four contacts used for power, ground, and two data wires (D + and D -). USB 3.0 connectors and above have five contacts. The USB connection is intended to transmit 5V at a maximum current of 500mA. The USB connection may be inserted in only one direction. It is feasible to force an incorrect connection. However, this could result in device damage. 
   
4. **Shielding and protection**: The USB connection is insulated, providing a metal casing that is not part of the circuit. This characteristic is crucial for maintaining the signal’s integrity in an electrically “busy” environment. All USB cables are wrapped in plastic at the connection end to avoid damage to the cable and electrical connection.


**Types of USB**:
USB can be classified based on four generations of development or the type of cable connections they use. Let us first look at the four versions of USB that have developed over the years:
1. **The original USB**: Before USBs, systems had serial and parallel ports, as previously explained. Many computer manufacturers, like Intel, Microsoft, and Apple, worked together to develop a universal device that connected multiple external sources to a PC without requiring a reboot. This was the first generation, as available in the 90s.
   
2. **USB 2.0 In 2000**: The USB 2.0 delivered data at a rate of 480 megabits per second, which is forty times quicker than the USB 1.1. In addition to its significantly enhanced speeds, USB 2.0 was configurable with any USB 1.1 port and vice versa.
   
3. **USB 3.0, 3.1, and 3.2** The first device of its kind to transport high-definition video efficiently. It was also known as SuperSpeed USB and had transfer speeds of 5 gigabits per second or approximately 5,120 megabits per second. The maximum transmission rate of USB 3.1 was 10 gigabits per second. USB 3.2 was launched with transmission rates of 20 gigabits per second, two times faster than USB 3.1. Only these USBs are compatible with Type C connections. These ports are full-duplex, meaning that data may be sent in both directions since USB is symmetrical.
   
4. **USB4**: is a 2019 standard issued by the USB-IF in version 1.0. The USB4 protocol is built on the Thunderbolt 3 standard, which Intel Corporation submitted to the USB-IF. Its design may dynamically utilize a single high-speed connection with numerous end-device types, executing each transfer according to its data or application type. This type of USB connection is yet to go mainstream. 


Another way to understand the different types of USB is by classifying them based on the nature of the cable connection and physical design. Here are the key types of USB to note:

1. **USB Type-A**: are among the most prevalent USB connectors. Consequently, they are also known as standard A connections. If laptops or desktop computers include a USB port (where USB devices may be plugged in), the port will likely be type A.
   
2. **USB Type B**: is square-shaped and smaller than type A. It may be found on computer components such as scanners, printers, external disk drives, etc. This type is mainly suitable for bulk data transfer connections. USB type-B is rarely found on laptops but may be prevalent in older desktop workstations, servers, and mainframes.
   
3. **USB Type-C** is probably the most ubiquitous USB connection currently available. It fits readily into the tiniest peripherals we use today, such as cellphones, Bluetooth speakers, etc., due to its compact size. One of the numerous benefits of type-C over other current variations is that it supports “reverse plug orientation” meaning that its plug may be inserted without regard to its orientation.
   
4. **Lightning cables and ports**: Apple devices, such as the iPhone and iPad, often include a separate USB connector. On one end of the cable is a narrow, rectangular connection, and on the other is a Type C connector. Similar to USB C, it is reversible or symmetrical, meaning it may be inserted either way. However, due to its design, the lightning connection cannot be utilized in any product or gadget other than Apple products.
   
5. **Mini USB**: This type of USB optimizes USB A or B connections for slightly older, portable devices. These are the miniature versions of the Type A and Type B USB connections. USB Mini is often found in portable cameras, gaming controllers, and older cell phones.
   
6. **Micro USB** Again, the micro variant optimizes USB A or B for mobile devices – although for relatively newer ones. With the introduction of USB Type C, micro-USBs are now being phased out. However, micro USB is still commonly used in inexpensive cell phones and other electronic devices, such as headphones, around the globe.


**Importance of USB:**
1. **Uses a single interface with easy scalability**: USB’s adaptability eliminates the need for separate connection types and hardware specifications for each accessory. Additionally, the majority of personal computers feature three to four USB ports. If more USB ports are needed, USB hubs can be employed to add on external ports.
   
2. **Minimizes space and power supply complexities**: In comparison to older connections, USB sockets are smaller in size. Additionally, the USB interface was created right from the outset to function as a DC power source. Through its USB connector, any host device may provide the peripheral with 5V DC — between 500 mA (USB 1.0 and 2.0) and 900 mA (USB 3.0).
   
3. **Does not need manual driver configurations**: The host device’s operating system must only install the USB device driver once. After that, when the peripheral device is connected, the driver is immediately launched to set up the peripheral device. Typically, the device driver for any USB peripheral is loaded automatically the first time the peripheral is connected to the host.
4. 
5. **Enables speed and reliability**: USB offers multiple speed settings, making it more productivity-friendly and efficient. It provides speeds between 1.5Mbit/s to 5Gbit/s. 2013 saw the release of USB 3.1, which boosted the speed to 10Gbit/s. In addition, the USB protocol may detect data transmission errors and tell the transmitter to resend the data.
   
6. **Saves costs** Due to the scalability of the manufacturing process and USB’s adaptability and popularity, it is now affordable to produce USB-supported products. Consequently, the components, connections, and cables are widely accessible and inexpensive. During “suspend mode,” the peripheral uses less than 500 microamperes for USB 2.0 and less than 2.5 milliamperes for USB 3.0, drastically reducing expenditures.

#### Module 2.2: Interconnection Standards
##### Numericals on ZigBee:


##### Numericals on Wi-Fi:


##### Numericals on Bluetooth: